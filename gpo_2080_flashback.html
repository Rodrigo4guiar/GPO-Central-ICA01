<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GPO 2080 - Aura01 Edition</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            background: #020508; 
            min-height: 100vh; 
            overflow: hidden; 
            font-family: 'Courier New', monospace;
            image-rendering: pixelated;
        }

        #game-container { 
            position: relative; 
            width: 100vw; 
            height: 100vh; 
            background: #020508;
            overflow: hidden;
        }

        canvas { display: block; width: 100%; height: 100vh; position: absolute; top: 0; left: 0; z-index: 1; }

        /* Interface Estilo Aura01 */
        #ui { 
            position: absolute; top: 20px; left: 20px; 
            color: #0ff; text-shadow: 0 0 10px #0ff; 
            z-index: 50; pointer-events: none; 
            background: rgba(0,0,0,0.8); padding: 12px 20px; 
            border-radius: 5px; border-left: 4px solid #ffcc00;
            border-bottom: 1px solid rgba(0, 255, 204, 0.2);
        }

        /* Personagem Pixelado Melhorado */
        #character { 
            position: absolute; bottom: 80px; left: 100px; 
            width: 40px; height: 75px; z-index: 20; 
            transform-origin: center bottom;
        }

        .head { 
            width: 24px; height: 24px; background: #ffcc00; 
            position: absolute; top: 0; left: 8px; 
            border: 2px solid #000; box-shadow: inset -4px -4px 0 rgba(0,0,0,0.2);
        }
        .visor { 
            width: 100%; height: 6px; background: #0ff; 
            position: absolute; top: 6px; left: 0; box-shadow: 0 0 8px #0ff;
        }

        .torso { 
            width: 30px; height: 35px; background: #ffcc00; 
            position: absolute; top: 24px; left: 5px; 
            border: 2px solid #000; border-radius: 2px;
            box-shadow: 0 0 20px rgba(255, 204, 0, 0.3);
        }

        .leg { 
            width: 12px; height: 24px; background: #111; 
            position: absolute; bottom: -18px; border: 2px solid #000;
        }
        .leg-left { left: 5px; }
        .leg-right { left: 18px; }

        /* Animações */
        .walking .leg-left { animation: walkCycle 0.4s infinite alternate; }
        .walking .leg-right { animation: walkCycle 0.4s infinite alternate-reverse; }
        .walking { animation: bob 0.2s infinite alternate; }

        @keyframes walkCycle { 
            from { transform: rotate(-25deg); } 
            to { transform: rotate(25deg); } 
        }
        @keyframes bob { 
            from { transform: translateY(0); } 
            to { transform: translateY(-2px); } 
        }

        /* Chão e Reflexo */
        #floor { 
            position: absolute; bottom: 0; width: 100%; height: 80px; 
            background: #000; border-top: 2px solid #1a2a2a; z-index: 10;
        }
        .glow {
            position: absolute; bottom: 80px; width: 100px; height: 20px;
            background: radial-gradient(ellipse at center, rgba(255, 204, 0, 0.2) 0%, transparent 70%);
            z-index: 5; pointer-events: none; transform: translateX(-30px);
        }

        #instructions { 
            position: absolute; bottom: 20px; right: 20px; 
            color: #ffcc00; z-index: 100; font-size: 12px; opacity: 0.6;
        }
    </style>
</head>
<body>
    <div id="game-container">
        <div id="ui">
            <div>AURA01 CORE | GPO 2080</div>
            <div style="font-size: 10px; color: #ffcc00; margin-top: 5px;">STORY: O DESPERTAR NO SETOR 4</div>
        </div>

        <canvas id="gameCanvas"></canvas>

        <div id="character">
            <div class="glow"></div>
            <div class="head"><div class="visor"></div></div>
            <div class="torso"></div>
            <div class="leg leg-left"></div>
            <div class="leg leg-right"></div>
        </div>

        <div id="floor"></div>
        <div id="instructions">SETAS ← → PARA CAMINHAR</div>
    </div>

    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        function resize() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
        window.addEventListener('resize', resize);
        resize();

        // Engine de Chuva e Cenário
        const gotas = [];
        for(let i=0; i<450; i++) {
            gotas.push({
                x: Math.random() * canvas.width,
                y: Math.random() * canvas.height,
                l: 15 + Math.random() * 20,
                v: 12 + Math.random() * 8,
                o: 0.1 + Math.random() * 0.3,
                s: 0.5 + Math.random() * 1
            });
        }

        const buildings = [];
        for(let i=0; i<10; i++) {
            buildings.push({
                x: i * 300 + Math.random() * 100,
                w: 100 + Math.random() * 150,
                h: 200 + Math.random() * 400,
                c: Math.random() > 0.5 ? '#050a0f' : '#03070a'
            });
        }

        function draw(time) {
            // Motion Blur
            ctx.fillStyle = 'rgba(2, 5, 8, 0.25)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);

            // Prédios Parallax
            buildings.forEach(b => {
                ctx.fillStyle = b.c;
                // O movimento dos prédios é baseado na posição do jogador (simulado aqui)
                let parallaxX = b.x - (posX * 0.2); 
                ctx.fillRect(parallaxX, canvas.height - b.h - 80, b.w, b.h);
                
                // Janelas aleatórias
                ctx.fillStyle = 'rgba(0, 255, 204, 0.05)';
                if(Math.sin(time/1000 + b.x) > 0.8) ctx.fillStyle = 'rgba(0, 255, 204, 0.2)';
                ctx.fillRect(parallaxX + 10, canvas.height - b.h - 60, 5, 5);
            });

            // Chuva
            gotas.forEach(g => {
                ctx.beginPath();
                ctx.moveTo(g.x, g.y);
                ctx.lineTo(g.x + 1, g.y + g.l);
                ctx.strokeStyle = `rgba(174, 194, 224, ${g.o})`;
                ctx.lineWidth = g.s;
                ctx.stroke();
                g.y += g.v;
                if(g.y > canvas.height) { g.y = -g.l; g.x = Math.random() * canvas.width; }
            });

            requestAnimationFrame(draw);
        }

        // Controle do Personagem
        const char = document.getElementById('character');
        let posX = 100;
        let velX = 0;
        const speed = 0.8;
        const friction = 0.9;
        const maxSpeed = 12;

        function updatePhysics() {
            posX += velX;
            velX *= friction;
            
            if (Math.abs(velX) > 0.5) {
                char.classList.add('walking');
                char.style.transform = `scaleX(${velX > 0 ? 1 : -1})`;
            } else {
                char.classList.remove('walking');
            }

            // Limites da tela
            if(posX < 0) posX = 0;
            if(posX > window.innerWidth - 40) posX = window.innerWidth - 40;

            char.style.left = posX + 'px';
            requestAnimationFrame(updatePhysics);
        }

        window.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight') velX += speed;
            if (e.key === 'ArrowLeft') velX -= speed;
            if (velX > maxSpeed) velX = maxSpeed;
            if (velX < -maxSpeed) velX = -maxSpeed;
        });

        updatePhysics();
        draw(0);
    </script>
</body>
</html>